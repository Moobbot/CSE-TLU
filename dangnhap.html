<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="./sites/default/files/favicon.ico" />
    <title>Đăng nhập</title>
    <link rel="stylesheet"
        href="./sites/all/themes/theme_general/plugin/bootstrap/bootstrap-5.0.2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="./sites/all/themes/theme_general/plugin/fontawesome/fontawesome5/css/all.min.css" />
    <link rel="stylesheet" href="./sites/all/themes/theme_general/plugin/jquery-ui/jquery-ui.css" />
    <link rel="stylesheet"
        href="./sites/all/themes/theme_general/plugin/OwlCarousel/dist/assets/owl.carousel.min.css" />
    <link rel="stylesheet"
        href="./sites/all/themes/theme_general/plugin/OwlCarousel/dist/assets/owl.theme.default.min.css" />
    <link rel="stylesheet" href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css'>
    <link rel="stylesheet" href="./sites/all/themes/admin_theme/style.css" />
    <link rel="stylesheet" href="./sites/all/themes/admin_theme/responsive.css" />
</head>

<body style="background-image: url(./sites//default/files/bg_signin.jpg)" ;>
    <div class="form" id="signin-form">
        <h5>Khoa Công nghệ thông tin - TLU</h5>
        <div class="form-group">
            <input type="email" class="form-input" placeholder="Tài khoản" id="signin-email">
            <span class="form-input-icon err">
                <i class='bx bx-error-circle'></i>
            </span>
            <span class="form-input-icon success">
                <i class='bx bx-check-circle'></i>
            </span>
            <span class="form-input-err-msg" data-err-for="signin-email"></span>
        </div>
        <div class="form-group">
            <input type="password" class="form-input" placeholder="Mật khẩu" id="signin-password">
            <span class="form-input-icon err">
                <i class='bx bx-error-circle'></i>
            </span>
            <span class="form-input-icon success">
                <i class='bx bx-check-circle'></i>
            </span>
            <span class="form-input-err-msg" data-err-for="signin-password"></span>
        </div>
        <div class="form-group-wrapper">
            <div class="form-group form-group-checkbox">
                <input type="checkbox" name="remember" id="remember" checked="checked">
                <label for="remember">
                    Ghi nhớ tài khoản
                    <i class='bx bx-check'></i>
                </label>
            </div>
            <div class="form-group">
                <a href="#">Quên mật khẩu</a>
            </div>
        </div>
        <button class="form-btn" id="signin-btn">Đăng nhập</button>

    </div>

    <script>
        let signin_form = document.querySelector('#signin-form')

        let signin_btn = document.querySelector('#signin-btn')

        validateEmail = (email) => {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/

            return re.test(String(email).toLowerCase())
        }

        checkSigninInput = (input) => {
            let err_span = signin_form.querySelector(`span[data-err-for="${input.id}"]`)
            let val = input.value.trim()
            let form_group = input.parentElement

            switch (input.getAttribute('type')) {
                case 'password':
                    if (val.length < 6) {
                        form_group.classList.add('err')
                        form_group.classList.remove('success')
                        err_span.innerHTML = 'Password must be at least 6 characters'
                    } else {
                        form_group.classList.add('success')
                        form_group.classList.remove('err')
                        err_span.innerHTML = ''
                    }
                    break;
                case 'email':
                    if (val.length === 0 || !validateEmail(val)) {
                        form_group.classList.add('err')
                        form_group.classList.remove('success')
                        err_span.innerHTML = 'Email is invalid'
                    } else {
                        form_group.classList.add('success')
                        form_group.classList.remove('err')
                        err_span.innerHTML = ''
                    }
            }
        }

        checkSigninForm = () => {
            let inputs = signin_form.querySelectorAll('.form-input')
            inputs.forEach(input => checkSigninInput(input))
        }

        signin_btn.onclick = () => {
            checkSigninForm()
        }

        let inputs = signin_form.querySelectorAll('.form-input')
        inputs.forEach(input => {
            input.addEventListener('focusout', () => {
                checkSigninInput(input)
            })
        })
    </script>
</body>

</html>